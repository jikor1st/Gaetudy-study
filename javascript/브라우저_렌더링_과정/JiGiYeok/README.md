## 브라우저 렌더링 과정

[브라우저 렌더링 과정 링크](https://jikor1st.tistory.com/38)

## 웹 브라우저 주소창에 URL을 입력하면 어떤 일이 일어나나요?

웹 사이트, 서버 및 IP 주소 간의 관계와 그 뒤에 웹 브라우저에서 수행하는 단계

- 웹 사이트를 호스팅하는 웹 서버의 위치 조회
- 웹 서버에 연결
- 특정 페이지를 가져오기 위한 요청 전송
- 웹 서버의 응답을 처리
- 사용자가 웹 사이트와 상호 작용할 수 있도록 페이지를 렌더링 하는 방법

### 기본 지식

웹 브라우저에서 주소창에 http://www.naver.com 와 같이 주소를 입력하게 되면 브라우저는 인터넷에서 사이트를 호스팅하는 서버를 파악해야 합니다.
먼저 naver.com의 도메인을 검색해서 주소를 찾습니다.

서버, 휴대폰, 스마트 냉장고 등 인터넷의 각 디바이스에는 모두 IP 주소라는 고유한 주소가 있습니다.
IP 주소에는 1.12.123.123 과 같은 4개의 번호가 매겨진 부분이 있습니다.

#### DNS

위의 IP 주소(숫자들)는 기억하기 어렵습니다. naver.com은 1.12.123.123보다 훨씬 기억하기 쉽습니다.
도메인 이름 시스템(Domain Name System - DNS)는 브라우저가 인터넷에서 서버를 찾는 데 도움이 됩니다.
DNS를 기반으로 서버의 IP 주소를 찾을 수 있으며, 주소창에 URL을 입력하든 페이지 내에서 링크를 클릭하는 프로세스는 동일합니다.

- DNS에 대해서 자세한 공부가 필요 - [관련 링크](https://aws.amazon.com/ko/route53/what-is-dns/?nc1=h_ls)

URL을 입력할 때, 웹 브라우저가 웹 서버와 어떻게 통신하는지 살펴봅니다.

### 전체 과정

#### 1. 웹 브라우저에 URL을 입력하고 Enter 키 입력

먼저 다음 URL을 분류해봅니다.

https://naver.com

<b>통신 규약 (Protocol)</b>

`https://`는 통신 프로토콜입니다. HTTPS는 풀어서 Hypertext Transfer Protocol Secure를 나타냅니다.
이 스키마는 브라우저에 전송 계층 보안(TLS)을 사용하여 서버에 연결하도록 지시합니다. TLS란 인터넷을 통한 통신을 보호하는 암호화 프로토콜입니다. HTTPS를 사용하면 암호나 신용 카드 정보와 같이 브라우저와 서버 간에 교환되는 데이터가 암호화됩니다. 브라우저가 처리하는 방법을 알고 있는 다른 프로토콜로는 `ftp://`, `mailto://`, `file://` 등이 있습니다.

<b>도메인 (Domain)</b>

`naver.com`는 웹 사이트의 도메인 이름입니다. 기억하기 쉽고 특정 서버의 IP 주소를 가리킵니다.

<b>경로 (Path)</b>

URL에 리소스에 대한 추가 경로가 있는 경우가 있습니다. 예를들어서 `https://naver.com/blog/jigiyeok`와 같은 주소가 있습니다. `blog`는 `jigiyeok`로 이어지는 경로이며 파일의 디렉토리로 생각할 수 있습니다. 하나의 리소스를 구성하는 경로로 생각할 수 있습니다.

<b>리소스 (Resource)</b>

URL에서 `jigiyeok`는 웹사이트의 리소스 이름입니다. 리소스라면 `.html`, `.jpg`, `.css`, `.js`와 같이 뒤에 확장자가 붙어야하는데, 확장자가 붙는 경우에는 서버의 정적 파일임을 나타냅니다. 확장자가 없다면 일반적으로는 서버가 이 콘텐츠를 생성했다는 것을 나타냅니다.

#### 2. 웹 브라우저가 도메인명의 IP 주소 조회

브라우저에 URL을 입력하고 검색을 수행 (예를들어 Enter키를 누른 후)하게 되면 브라우저는 인터넷에서 연결할 서버를 파악해야 합니다. 입력한 도메인으로 웹 사이트를 호스팅하는 서버의 IP 주소를 조회해야 합니다. 이를 과정을 DNS 조회라고 말합니다.

DNS는 복잡하고 매우 빨라야 하기 때문에 DNS 데이터는 웹 브라우저 사이의 서로 다른 계층과 인터넷의 다양한 위치에 임시로 저장됩니다. 이를 캐시(Cache)라고 부릅니다.
웹 브라우저는 고유한 캐시, 운영 체제 캐시, 라우터의 로컬 네트워크 캐시, 회사 네트워크 또는 인터넷 서비스 제공업체(ISP)의 DNS 서버 캐시를 확인합니다.

웹 브라우저가 캐시 계층에서 IP 주소를 찾을 수 없는 경우 회사 네트워크 또는 ISP의 DNS 서버가 재귀적 DNS 조회를 수행합니다.

### 레퍼런스

- https://aws.amazon.com/ko/blogs/korea/what-happens-when-you-type-a-url-into-your-browser/
